<html>
<head>
<base target="_blank">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<style>
body{
    margin: 50vh 0;
    background: red;
}
canvas {
    top: 0; 
    right: 0;
    position: fixed;
    cursor: pointer;
    max-width: 100%;
    max-height: 100%;
    box-shadow: 0 0 0 1px red;
}
img { 
    max-height: 12vw; 
}
.on { 
    opacity: .5; 
}
</style>
</head>
<body>
<main>
<a onclick="return false;" href="https://raw.githubusercontent.com/hallhassi/index/main/2008/untitled-2-10001.jpg"><img src="https://blaiselarmee.mo.cloudinary.net/800/2008/untitled-2-10001.jpg"></a><a onclick="return false;" href="https://raw.githubusercontent.com/hallhassi/index/main/2008/untitled-2-10002.jpg"><img src="https://blaiselarmee.mo.cloudinary.net/800/2008/untitled-2-10002.jpg"></a><a onclick="return false;" href="https://raw.githubusercontent.com/hallhassi/index/main/2008/untitled-2-10003.jpg"><img src="https://blaiselarmee.mo.cloudinary.net/800/2008/untitled-2-10003.jpg"></a><a onclick="return false;" href="https://raw.githubusercontent.com/hallhassi/index/main/2008/untitled-2-10004.jpg"><img src="https://blaiselarmee.mo.cloudinary.net/800/2008/untitled-2-10004.jpg"></a><a onclick="return false;" href="https://raw.githubusercontent.com/hallhassi/index/main/2008/untitled-2-10005.jpg"><img src="https://blaiselarmee.mo.cloudinary.net/800/2008/untitled-2-10005.jpg"></a><a onclick="return false;" href="https://raw.githubusercontent.com/hallhassi/index/main/g/4035132579_fd9909b777_o.jpg"><img src="g/4035132579_fd9909b777_o.jpg"></a><a onclick="return false;" href="https://raw.githubusercontent.com/hallhassi/index/main/2010/yoko-ono-01-blaiselarmee.jpg"><img src="https://blaiselarmee.mo.cloudinary.net/800/2010/yoko-ono-01-blaiselarmee.jpg"></a><a onclick="return false;" href="https://raw.githubusercontent.com/hallhassi/index/main/2010/yoko-ono-02-blaiselarmee.jpg"><img src="https://blaiselarmee.mo.cloudinary.net/800/2010/yoko-ono-02-blaiselarmee.jpg"></a><a onclick="return false;" href="https://raw.githubusercontent.com/hallhassi/index/main/2011/astral-talk-01-blaiselarmee.jpg"><img src="https://blaiselarmee.mo.cloudinary.net/800/2011/astral-talk-01-blaiselarmee.jpg"></a><a onclick="return false;" href="https://raw.githubusercontent.com/hallhassi/index/main/2011/astral-talk-02-blaiselarmee.jpg"><img src="https://blaiselarmee.mo.cloudinary.net/800/2011/astral-talk-02-blaiselarmee.jpg"></a><a onclick="return false;" href="https://raw.githubusercontent.com/hallhassi/index/main/2011/astral-talk-03-blaiselarmee.jpg"><img src="https://blaiselarmee.mo.cloudinary.net/800/2011/astral-talk-03-blaiselarmee.jpg"></a><a onclick="return false;" href="https://raw.githubusercontent.com/hallhassi/index/main/2011/dan-quayl-01-blaiselarmee.jpg"><img src="https://blaiselarmee.mo.cloudinary.net/800/2011/dan-quayl-01-blaiselarmee.jpg"></a><a onclick="return false;" href="https://raw.githubusercontent.com/hallhassi/index/main/2011/dan-quayl-02-blaiselarmee.jpg"><img src="https://blaiselarmee.mo.cloudinary.net/800/2011/dan-quayl-02-blaiselarmee.jpg"></a><a onclick="return false;" href="https://raw.githubusercontent.com/hallhassi/index/main/2011/dan-quayl-03-blaiselarmee.jpg"><img src="https://blaiselarmee.mo.cloudinary.net/800/2011/dan-quayl-03-blaiselarmee.jpg"></a><a onclick="return false;" href="https://raw.githubusercontent.com/hallhassi/index/main/2011/na680-01-blaiselarmee.jpg"><img src="https://blaiselarmee.mo.cloudinary.net/800/2011/na680-01-blaiselarmee.jpg"></a><a onclick="return false;" href="https://raw.githubusercontent.com/hallhassi/index/main/2011/na680-02-blaiselarmee.jpg"><img src="https://blaiselarmee.mo.cloudinary.net/800/2011/na680-02-blaiselarmee.jpg"></a><a onclick="return false;" href="https://raw.githubusercontent.com/hallhassi/index/main/2011/na680-03-blaiselarmee.jpg"><img src="https://blaiselarmee.mo.cloudinary.net/800/2011/na680-03-blaiselarmee.jpg"></a><a onclick="return false;" href="https://raw.githubusercontent.com/hallhassi/index/main/2011/na680-04-blaiselarmee.jpg"><img src="https://blaiselarmee.mo.cloudinary.net/800/2011/na680-04-blaiselarmee.jpg"></a><a onclick="return false;" href="https://raw.githubusercontent.com/hallhassi/index/main/2011/na680-05-blaiselarmee.jpg"><img src="https://blaiselarmee.mo.cloudinary.net/800/2011/na680-05-blaiselarmee.jpg"></a><a onclick="return false;" href="https://raw.githubusercontent.com/hallhassi/index/main/2011/sonatina-1-01-blaiselarmee.jpg"><img src="https://blaiselarmee.mo.cloudinary.net/800/2011/sonatina-1-01-blaiselarmee.jpg"></a><a onclick="return false;" href="https://raw.githubusercontent.com/hallhassi/index/main/2011/sonatina-1-02-blaiselarmee.jpg"><img src="https://blaiselarmee.mo.cloudinary.net/800/2011/sonatina-1-02-blaiselarmee.jpg"></a><a onclick="return false;" href="https://raw.githubusercontent.com/hallhassi/index/main/2012/sonatina-2-01-blaiselarmee.jpg"><img src="https://blaiselarmee.mo.cloudinary.net/800/2012/sonatina-2-01-blaiselarmee.jpg"></a><a onclick="return false;" href="https://raw.githubusercontent.com/hallhassi/index/main/2012/sonatina-2-02-blaiselarmee.jpg"><img src="https://blaiselarmee.mo.cloudinary.net/800/2012/sonatina-2-02-blaiselarmee.jpg"></a><a onclick="return false;" href="https://raw.githubusercontent.com/hallhassi/index/main/2013/limner-2-01-blaiselarmee.jpg"><img src="https://blaiselarmee.mo.cloudinary.net/800/2013/limner-2-01-blaiselarmee.jpg"></a><a onclick="return false;" href="https://raw.githubusercontent.com/hallhassi/index/main/2013/limner-2-02-blaiselarmee.jpg"><img src="https://blaiselarmee.mo.cloudinary.net/800/2013/limner-2-02-blaiselarmee.jpg"></a>

</main>
<a href="index4.html" target="_self"><</a>
<a><canvas id="canvas"></canvas></a>
<script>
    const img = Array.from(document.querySelectorAll('img'));
    const a = Array.from(document.querySelectorAll('main a'));
    let i, y
    
    window.addEventListener('scroll', () => {
        img.forEach(el => el.classList.remove('on'))
        if (canvas.hidden !== true) {
            i = Math.round(window.scrollY * img.length / y);
            y = document.body.getBoundingClientRect().height
            requestAnimationFrame(() => {
                canvas.width = img[i].naturalWidth;
                canvas.height = img[i].naturalHeight;
                canvas.getContext("2d").drawImage(img[i], 0, 0, img[i].naturalWidth, img[i].naturalHeight);
                img[i].classList.add('on')
                canvas.parentElement.href = img[i].parentElement.href
            })
        }
    });
    
    window.addEventListener('click', (e) => {
        if (canvas.hidden && img.includes(e.target)) {
            canvas.hidden = false
            scrollTo(0, y * img.indexOf(e.target) / img.length)
        }
        else if (e.target !== canvas) canvas.hidden = true
    })
    
    window.addEventListener('keydown', (e) => {
        if (e.key == 'ArrowRight') scrollBy(0, y/img.length)
        else if  (e.key == 'ArrowLeft') scrollBy(0, -y/img.length)
        else if  (e.key == 'Escape') canvas.hidden = canvas.hidden == true ? false : true
    })
    
</script>
</body>
</html>