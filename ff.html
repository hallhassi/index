
<head>
    <base target="_blank">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <style>
    body{
        margin: 50vh 0;
        background: red;
    }
    canvas {
        top: 0; 
        right: 0;
        position: fixed;
        cursor: pointer;
        max-width: 100%;
        max-height: 100%;
        box-shadow: 0 0 0 1px red;
    }
    img { 
        max-height: 12vw; 
    }
    .on { 
        opacity: .5; 
    }
    </style>
    </head>
    <body>
    <main>
        <a href="https://raw.githubusercontent.com/hallhassi/index/main/ff/b%20-%2012.jpg"><img src="ff/b%20-%2012.jpg"></a><a href="https://raw.githubusercontent.com/hallhassi/index/main/ff/b%20-%2013.jpg"><img src="ff/b%20-%2013.jpg"></a><a href="https://raw.githubusercontent.com/hallhassi/index/main/ff/b%20-%2014.jpg"><img src="ff/b%20-%2014.jpg"></a><a href="https://raw.githubusercontent.com/hallhassi/index/main/ff/b%20-%2015.jpg"><img src="ff/b%20-%2015.jpg"></a><a href="https://raw.githubusercontent.com/hallhassi/index/main/ff/b%20-%2019.jpg"><img src="ff/b%20-%2019.jpg"></a><a href="https://raw.githubusercontent.com/hallhassi/index/main/ff/b%20-%2028.jpg"><img src="ff/b%20-%2028.jpg"></a><a href="https://raw.githubusercontent.com/hallhassi/index/main/ff/b%20-%2029.jpg"><img src="ff/b%20-%2029.jpg"></a><a href="https://raw.githubusercontent.com/hallhassi/index/main/ff/b%20-%2030.jpg"><img src="ff/b%20-%2030.jpg"></a><a href="https://raw.githubusercontent.com/hallhassi/index/main/ff/b%20-%2031.jpg"><img src="ff/b%20-%2031.jpg"></a><a href="https://raw.githubusercontent.com/hallhassi/index/main/ff/b%20-%2033.jpg"><img src="ff/b%20-%2033.jpg"></a><a href="https://raw.githubusercontent.com/hallhassi/index/main/ff/b%20-%2043.jpg"><img src="ff/b%20-%2043.jpg"></a><a href="https://raw.githubusercontent.com/hallhassi/index/main/ff/b%20-%2044.jpg"><img src="ff/b%20-%2044.jpg"></a><a href="https://raw.githubusercontent.com/hallhassi/index/main/ff/b%20-%2057.jpg"><img src="ff/b%20-%2057.jpg"></a><a href="https://raw.githubusercontent.com/hallhassi/index/main/ff/b%20-%2066.jpg"><img src="ff/b%20-%2066.jpg"></a><a href="https://raw.githubusercontent.com/hallhassi/index/main/ff/b%20-%2073.jpg"><img src="ff/b%20-%2073.jpg"></a><main>
    </main>
        <a><canvas id="canvas"></canvas></a>
    <script>
    const img = Array.from(document.querySelectorAll('img'));
    const a = Array.from(document.querySelectorAll('main a'));
    let i, y
    
    window.addEventListener('scroll', () => {
        img.forEach(el => el.classList.remove('on'))
        if (canvas.hidden !== true) {
            i = Math.round(window.scrollY * img.length / y);
            y = document.body.getBoundingClientRect().height
            requestAnimationFrame(() => {
                canvas.width = img[i].naturalWidth;
                canvas.height = img[i].naturalHeight;
                canvas.getContext("2d").drawImage(img[i], 0, 0, img[i].naturalWidth, img[i].naturalHeight);
                img[i].classList.add('on')
                canvas.parentElement.href = img[i].parentElement.href
            })
        }
    });
    
    window.addEventListener('click', (e) => {
        if (canvas.hidden && img.includes(e.target)) {
            canvas.hidden = false
            scrollTo(0, y * img.indexOf(e.target) / img.length)
        }
        else if (e.target !== canvas) canvas.hidden = true
    })
    
    window.addEventListener('keydown', (e) => {
        if (e.key == 'ArrowRight') scrollBy(0, y/img.length)
        else if  (e.key == 'ArrowLeft') scrollBy(0, -y/img.length)
        else if  (e.key == 'Escape') canvas.hidden = canvas.hidden == true ? false : true
    })
    
    </script>
    </body>
    </html>